<svg viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1000" height="600" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="500" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#1f2937">Auto-Graph-RAG: From Knowledge Graph to Specialized Model</text>
  
  <!-- Step 1: Knowledge Graph -->
  <g id="knowledge-graph">
    <!-- Graph nodes -->
    <circle cx="100" cy="120" r="12" fill="#3b82f6"/>
    <circle cx="150" cy="100" r="12" fill="#3b82f6"/>
    <circle cx="130" cy="160" r="12" fill="#3b82f6"/>
    <circle cx="180" cy="140" r="12" fill="#3b82f6"/>
    <circle cx="200" cy="110" r="12" fill="#3b82f6"/>
    <circle cx="170" cy="180" r="12" fill="#3b82f6"/>
    
    <!-- Graph edges -->
    <line x1="100" y1="120" x2="150" y2="100" stroke="#64748b" stroke-width="2"/>
    <line x1="100" y1="120" x2="130" y2="160" stroke="#64748b" stroke-width="2"/>
    <line x1="150" y1="100" x2="180" y2="140" stroke="#64748b" stroke-width="2"/>
    <line x1="150" y1="100" x2="200" y2="110" stroke="#64748b" stroke-width="2"/>
    <line x1="130" y1="160" x2="170" y2="180" stroke="#64748b" stroke-width="2"/>
    <line x1="180" y1="140" x2="170" y2="180" stroke="#64748b" stroke-width="2"/>
    <line x1="180" y1="140" x2="200" y2="110" stroke="#64748b" stroke-width="2"/>
    
    <text x="150" y="220" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1f2937">Knowledge Graph</text>
  </g>
  
  <!-- Arrow 1 -->
  <path d="M 220 140 L 280 140" stroke="#16a34a" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="250" y="130" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#16a34a">Explore</text>
  
  <!-- Step 2: Agent Bot -->
  <g id="agent-bot">
    <!-- Bot body -->
    <rect x="300" y="110" width="60" height="60" rx="15" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
    <!-- Bot eyes -->
    <circle cx="315" cy="130" r="4" fill="#1f2937"/>
    <circle cx="345" cy="130" r="4" fill="#1f2937"/>
    <!-- Bot mouth -->
    <path d="M 320 150 Q 330 160 340 150" stroke="#1f2937" stroke-width="2" fill="none"/>
    <!-- Bot antenna -->
    <line x1="330" y1="110" x2="330" y2="95" stroke="#f59e0b" stroke-width="2"/>
    <circle cx="330" cy="95" r="3" fill="#ef4444"/>
    
    <text x="330" y="195" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1f2937">Exploration Agent</text>
    <text x="330" y="210" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">Auto-discovers patterns</text>
  </g>
  
  <!-- Arrow 2 -->
  <path d="M 380 140 L 440 140" stroke="#16a34a" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="410" y="130" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#16a34a">Generate</text>
  
  <!-- Step 3: Training Data -->
  <g id="training-data">
    <rect x="460" y="100" width="80" height="80" rx="5" fill="#ffffff" stroke="#64748b" stroke-width="2"/>
    <!-- Document lines -->
    <line x1="470" y1="120" x2="530" y2="120" stroke="#64748b" stroke-width="1"/>
    <line x1="470" y1="130" x2="520" y2="130" stroke="#64748b" stroke-width="1"/>
    <line x1="470" y1="140" x2="525" y2="140" stroke="#64748b" stroke-width="1"/>
    <line x1="470" y1="150" x2="515" y2="150" stroke="#64748b" stroke-width="1"/>
    <line x1="470" y1="160" x2="530" y2="160" stroke="#64748b" stroke-width="1"/>
    <line x1="470" y1="170" x2="520" y2="170" stroke="#64748b" stroke-width="1"/>
    
    <text x="500" y="200" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1f2937">Q&A Pairs</text>
    <text x="500" y="215" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">Question + Cypher</text>
  </g>
  
  <!-- Arrow 3 -->
  <path d="M 560 140 L 620 140" stroke="#16a34a" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="590" y="130" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#16a34a">Train</text>
  
  <!-- Step 4: Neural Network (SLM) -->
  <g id="neural-network">
    <!-- Input layer -->
    <circle cx="650" cy="110" r="8" fill="#8b5cf6"/>
    <circle cx="650" cy="130" r="8" fill="#8b5cf6"/>
    <circle cx="650" cy="150" r="8" fill="#8b5cf6"/>
    <circle cx="650" cy="170" r="8" fill="#8b5cf6"/>
    
    <!-- Hidden layer 1 -->
    <circle cx="700" cy="105" r="6" fill="#a78bfa"/>
    <circle cx="700" cy="125" r="6" fill="#a78bfa"/>
    <circle cx="700" cy="140" r="6" fill="#a78bfa"/>
    <circle cx="700" cy="155" r="6" fill="#a78bfa"/>
    <circle cx="700" cy="175" r="6" fill="#a78bfa"/>
    
    <!-- Hidden layer 2 -->
    <circle cx="740" cy="115" r="6" fill="#a78bfa"/>
    <circle cx="740" cy="135" r="6" fill="#a78bfa"/>
    <circle cx="740" cy="155" r="6" fill="#a78bfa"/>
    <circle cx="740" cy="175" r="6" fill="#a78bfa"/>
    
    <!-- Output layer -->
    <circle cx="780" cy="130" r="8" fill="#8b5cf6"/>
    <circle cx="780" cy="150" r="8" fill="#8b5cf6"/>
    
    <!-- Connections (simplified) -->
    <g stroke="#c4b5fd" stroke-width="1" opacity="0.6">
      <line x1="658" y1="110" x2="692" y2="105"/>
      <line x1="658" y1="130" x2="692" y2="125"/>
      <line x1="658" y1="150" x2="692" y2="140"/>
      <line x1="658" y1="170" x2="692" y2="155"/>
      <line x1="708" y1="125" x2="732" y2="115"/>
      <line x1="708" y1="140" x2="732" y2="135"/>
      <line x1="708" y1="155" x2="732" y2="155"/>
      <line x1="748" y1="135" x2="772" y2="130"/>
      <line x1="748" y1="155" x2="772" y2="150"/>
    </g>
    
    <text x="715" y="200" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1f2937">Specialized SLM</text>
    <text x="715" y="215" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">Llama-3.2-1B</text>
  </g>
  
  <!-- Divider line -->
  <line x1="50" y1="280" x2="950" y2="280" stroke="#e5e7eb" stroke-width="2" stroke-dasharray="10,5"/>
  <text x="500" y="300" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#64748b">Production Inference</text>
  
  <!-- Step 5: User Query -->
  <g id="user-query">
    <rect x="100" y="350" width="120" height="60" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
    <text x="160" y="375" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">"Which countries</text>
    <text x="160" y="390" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">have embassy</text>
    <text x="160" y="405" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">relationships?"</text>
    
    <text x="160" y="435" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1f2937">Natural Language Query</text>
  </g>
  
  <!-- Arrow 4 - Clean curved arrow -->
  <path d="M 240 380 L 580 380 Q 600 380 600 360 L 600 340 Q 600 320 620 320 L 650 320 Q 670 320 670 300 L 670 190" stroke="#ef4444" stroke-width="3" marker-end="url(#arrowhead2)" fill="none"/>
  <text x="440" y="370" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ef4444">Direct inference (0 context tokens)</text>
  
  <!-- Step 6: Generated Cypher -->
  <g id="cypher-output">
    <rect x="720" y="350" width="180" height="60" rx="5" fill="#f0fdf4" stroke="#16a34a" stroke-width="2"/>
    <text x="810" y="370" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#1f2937">MATCH (c1:Country)-[r:EMBASSY]-></text>
    <text x="810" y="385" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#1f2937">(c2:Country)</text>
    <text x="810" y="400" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#1f2937">RETURN c1.name, c2.name</text>
    
    <text x="810" y="435" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1f2937">Generated Cypher</text>
  </g>
  
  <!-- Arrow 5 - Clean curved arrow from neural network to cypher -->
  <path d="M 780 160 Q 820 180 840 220 Q 850 240 850 260 Q 850 280 840 300 Q 830 320 810 340" stroke="#ef4444" stroke-width="3" marker-end="url(#arrowhead2)" fill="none"/>
    
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#16a34a"/>
    </marker>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
  </defs>
</svg>